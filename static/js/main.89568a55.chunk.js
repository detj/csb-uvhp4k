(this.webpackJsonpsemverflation=this.webpackJsonpsemverflation||[]).push([[0],{56:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(44),a=n(11),s=(n(56),n(14)),l=n(45),u=n(47),i=n(17),o=n(28),j=n(46),b=n(8);function f(){var e=Object(c.useState)(""),t=Object(a.a)(e,2),n=t[0],r=t[1],f=function(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),r=n[0],s=n[1],l=Object(c.useState)(),u=Object(a.a)(l,2),b=u[0],f=u[1],p=Object(c.useState)(null),d=Object(a.a)(p,2),m=d[0],O=d[1];function h(e){O(null),s(e),f(!1)}function v(e){s(null),f(!1),O(e)}function x(){s(null),O(null)}return Object(c.useEffect)((function(){function t(){return(t=Object(o.a)(Object(i.a)().mark((function t(){var n,c,r,a;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return x(),t.abrupt("return");case 3:return f(!0),O(!1),n=new URL("https://registry.npmjs.org/".concat(e)),t.prev=6,t.next=9,fetch(n);case 9:return c=t.sent,t.next=12,c.json();case 12:r=t.sent,t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(6),v("failed to fetch package ".concat(e)),t.abrupt("return");case 19:t.prev=19,a=Object(j.a)(r,{decimal:2}),t.next=27;break;case 23:return t.prev=23,t.t1=t.catch(19),v((null===t.t1||void 0===t.t1?void 0:t.t1.message)||"Failed to determine semverflation"),t.abrupt("return");case 27:h(a);case 28:case"end":return t.stop()}}),t,null,[[6,15],[19,23]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),[r,b,m]}(n),p=Object(a.a)(f,3),d=p[0],m=p[1],O=p[2],h=!0===m?"Calculating...":d;function v(e){(e=e.toLowerCase().trim())&&r(e)}var x=Object(c.useCallback)((function(){return function(e){null===e||void 0===e||e.preventDefault();var t=new FormData(e.target);v(Object.fromEntries(t).pkg)}}),[]);return Object(c.useEffect)((function(){var e=new URL(document.location.href).searchParams.get("pkg");e&&v(e)}),[]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("h1",{children:"semverflation"}),Object(b.jsx)("h2",{children:"Calculate frequency of semver major bumps over time"}),Object(b.jsx)("form",{onSubmit:x(),onReset:function(){r(""),function(){var e=new URL(document.location.href);e.searchParams.delete("pkg"),window.history.replaceState(null,"",e.toString())}()},children:Object(b.jsxs)("div",{style:{placeContent:"center",display:"flex",gap:"1rem",flexWrap:"wrap"},children:[Object(b.jsx)(l.a,{name:"pkg",size:"l",placeholder:"type name of an npm package",defaultValue:n||null}),Object(b.jsx)(s.b,{type:"submit",size:"l",children:"Calculate"}),Object(b.jsx)(s.b,{type:"reset",size:"l",secondary:!0,children:"Reset"})]})}),Object(b.jsx)("h2",{children:h}),O&&Object(b.jsx)(u.a,{inline:!0,error:!0,title:O})]})}var p=document.getElementById("root");Object(r.createRoot)(p).render(Object(b.jsx)(c.StrictMode,{children:Object(b.jsx)(f,{})}))}},[[96,1,2]]]);
//# sourceMappingURL=main.89568a55.chunk.js.map